This tool cuts input MID files into tracks, feeds these track to a Markov chain, and generates a new random track.

# Requirements

The script relies on Bash, Lua 5.2.4, and the `midicsv` package that provides the `midicsv` and `csvmidi` binaries for the conversion of MID files to CSV and vise-versa.

# Usage

Run the `markov-chain.sh` script as follows:

  ./markov-chain.sh [LEFT_CONTEXT|-] [MAX_OUTPUT_LENGTH|-] MID_FILE[=TRACK_RANGES] [ MID_FILE[=TRACK_RANGES] ]

where `LEFT_CONTEXT` stands for the left context maintained within the resulting Markov chain, `MAX_OUTPUT_LENGTH` specifies the number of lines after which the output is cut off, abd `MID_FILE` stand for the input files. `TRACK_RANGES` are used to specify the MIDI tracks to use from the given input file and use the following syntax:

  <root>  ::=  <expr> | *
  <expr>  ::=  <expr>,<expr> | <range> | <atom>
  <range> ::=  <atom>-<atom>
  <atom>  ::=  [0-9]+

The script dumps the generated MID file to the `track.csv` CSV file, and to the stdout as a MID file.
